<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HackRPI</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Page 1 (Form Page) -->
  <div id="page1" class="page active">
    <h2>Enter a zip code:</h2>
    <form id="myForm">
      <label for="zip">ZIP:</label>
      <input type="text" id="zip" name="zip" required><br><br>
      <button type="submit" onclick="getDataArray(); addBars()">Submit</button>
    </form>
  </div>

  <!-- Page 2 (Actual Content) -->
  <div id="page2" class="page">
    <h2>Energy Breakdown</h2>

    <div class="split-screen">
        <div>
            <canvas id="greenCanvas" width="800" height="500" style="border:3px solid #000000; background-color: green;"></canvas>
            <style>
              #greenCanvas {
                background-image: url('city_bg.jpg');
                background-size: cover;
              }
            </style>
        </div>
        <!-- Energy sources identified by color here -->
         <div>
            <div class="color-key" id="colorKey"></div>
         </div>
    </div>

    <div class="split-screen">
        <!-- Bar Graphs of left side of screen -->
        <div style="flex:5">
            <h3>Current Percentages:</h3>
            <div class="bar-graph" id="currentBarGraph">
                <!-- Bars will be added dynamically here -->
            </div>
        
            <h3>What Could Be Achieved:</h3>
            <div class="bar-graph" id="proposedBarGraph">
                <!-- Bars will be added dynamically here -->
            </div>
        </div>

        <!-- Info Box on right side of screen -->
        <div style="flex:2">
            <div class="info-label" id="infoLabel">(Energy Source)</div>
            <div class="info-box" id="infoBox">Hover over an energy source to learn more!</div>
        </div>
    </div>

    <p>Looking at zipcode: <span id="zipCode"></span></p>
    <button onclick="goBack()">Go Back</button>
    <button onclick="showEndScreen()">Show Results</button>
  </div>

  <!-- End Screen (initially hidden) -->
  <div id="endScreen" class="overlay">
    <div class="popup">
      <h2>Results</h2>
      <p id="resultText">Your calculated energy breakdown and potential improvements.</p>
      <button onclick="hideEndScreen()">Close</button>
    </div>
  </div>

  <script src="excel.js"></script>
  <script src="pages.js"></script>
  <script src="bar.js"></script>
  <script src="drag.js"></script>
  <script src="result.js"></script>
</body>
</html>
